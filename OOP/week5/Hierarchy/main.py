from tickets import (
    ПроезднойБилет,
    БилетСОграничением,
    БилетСОграничениемПоездок,
    БезлимитныйБилет
)
from datetime import timedelta

def test_tickets():
    print("=== Тестирование системы билетов ===")
    
    # Создаем билеты разных типов
    билет1 = БилетСОграничениемПоездок("TICKET-001", timedelta(days=30), 10)
    билет2 = БезлимитныйБилет("UNLIM-001", timedelta(days=365))
    
    # Тестируем активацию
    print("\nАктивация билетов:")
    билет1.активировать()
    билет2.активировать()
    
    # Тестируем списание поездок
    print("\nСписание поездок с билета с ограничением:")
    for i in range(12):  # Попробуем списать больше, чем есть
        if not билет1.списать_поездку():
            break
    
    print("\nСписание поездок с безлимитного билета:")
    for _ in range(3):
        билет2.списать_поездку()
    
    # Проверяем информацию о билетах
    print("\nИнформация о билетах:")
    print(билет1)
    print(билет2)
    
    # Используем вызываемый метод
    print("\nВызываемый метод (__call__):")
    print("Билет1:", билет1())
    print("Билет2:", билет2())
    
    # Пытаемся активировать уже активированный билет
    print("\nПопытка повторной активации:")
    билет1.активировать()

if __name__ == "__main__":
    test_tickets()